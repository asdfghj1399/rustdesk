name: "1️⃣ Windows Build (Debug)"

on:
  workflow_dispatch:
    inputs:
      build_mode:
        description: "Build Mode"
        required: true
        default: "release"
        type: choice
        options: ["release", "debug"]

jobs:
  build:
    runs-on: windows-latest
    steps:
    - name: Create Artifact
      shell: pwsh
      run: |
        # 创建模拟构建产物
        $mode = "${{ inputs.build_mode || 'release' }}"
        mkdir -p "target/$mode"
        echo "Built at $(Get-Date)" > "target/$mode/output.exe"
        echo "ARTIFACT_PATH=target/$mode/output.exe" >> $env:GITHUB_ENV

    - name: Upload Artifact
      uses: actions/upload-artifact@v4
      with:
        name: build-output
        path: ${{ env.ARTIFACT_PATH }}
